import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { Snackbar, Button } from 'react-native-paper';\nimport { API_CONFIG } from '../config/constants';\n\nconst NetworkStatus = () => {\n  const [isOnline, setIsOnline] = useState(true);\n  const [showOfflineMessage, setShowOfflineMessage] = useState(false);\n  const [isChecking, setIsChecking] = useState(false);\n\n  const checkNetworkStatus = async () => {\n    try {\n      setIsChecking(true);\n      \n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000);\n      \n      const response = await fetch(`${API_CONFIG.BASE_URL}/health`, {\n        method: 'GET',\n        signal: controller.signal\n      });\n      \n      clearTimeout(timeoutId);\n      \n      if (response.ok) {\n        setIsOnline(true);\n        setShowOfflineMessage(false);\n      } else {\n        setIsOnline(false);\n        setShowOfflineMessage(true);\n      }\n    } catch (error) {\n      console.log('Network check failed:', error.message);\n      setIsOnline(false);\n      setShowOfflineMessage(true);\n    } finally {\n      setIsChecking(false);\n    }\n  };\n\n  useEffect(() => {\n    // Check network status on mount\n    checkNetworkStatus();\n    \n    // Set up periodic checks\n    const interval = setInterval(checkNetworkStatus, 30000); // Check every 30 seconds\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  const handleRetry = () => {\n    setShowOfflineMessage(false);\n    checkNetworkStatus();\n  };\n\n  return (\n    <Snackbar\n      visible={showOfflineMessage}\n      onDismiss={() => setShowOfflineMessage(false)}\n      duration={Snackbar.DURATION_INDEFINITE}\n      style={styles.snackbar}\n      action={{\n        label: isChecking ? 'Checking...' : 'Retry',\n        onPress: handleRetry,\n        disabled: isChecking\n      }}\n    >\n      <View style={styles.content}>\n        <Text style={styles.text}>\n          ðŸ”´ No connection to server. Please check your network.\n        </Text>\n      </View>\n    </Snackbar>\n  );\n};\n\nconst styles = StyleSheet.create({\n  snackbar: {\n    backgroundColor: '#ef4444',\n  },\n  content: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  text: {\n    color: '#ffffff',\n    fontSize: 14,\n  },\n});\n\nexport default NetworkStatus;